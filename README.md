レポジトリ
======================

レポジトリパターン
------------

レポジトリーパターンとは、アプリの他の部分からデータソースを切り離すデザインパターンのことです。
これにより、データにアクセスするために使うアプリの他の部分にクリーンなAPIを提供することが可能になります。

レポジトリーはデータベース（永続性モデル、ウェブサービス、キャッシュなど）とアプリの他の部分を取り持つ役目を果たしてくれます。以下のダイアグラムはLiveDataを使っているアクティビティのような、アプリのコンポーネントがレポジトリーを経由してデータソースとどのようにやり取りしているのかを示しています。
![image](https://user-images.githubusercontent.com/96398365/183235698-1dee932a-43b3-4924-8eea-84c6da722997.png)
レポジトリーを実装するためには、レポジトリークラスを使います。レポジトリークラスはデータソースをアプリの他の部分から隔離し、データアクセス用のクリーンなAPIをアプリの他の部分に提供します。レポジトリークラスを使うことはコードの分離とアーキテクチャのために推奨されているベストプラクティスです。

### レポジトリを使う利点<br>

・レポジトリーモジュールはデータ操作を扱い、複数のバックエンドを扱えるようにしてくれます。典型的な実用アプリでは、レポジトリーはネットワークからデータを読み取るか、またはローカルデータベースにキャッシュされたデータを使うかなどを決定するためのロジックを実装しています。これにより、コードを単位化しテストしやすくできます。簡単にレポジトリーをモックアップし、コードの他の部分をテストすることができます。


キャッシング(キャッシュ)
--------------

アプリがネットワークからデータを読み取った後、端末のストレージにデータを保存することで、データをキャッシュすることができます。
後で端末がオフラインのときにデータにアクセスしたり、何度も同じデータにアクセスしたいときなどにキャッシュします。

### Roomデータベースを利用してキャッシュ<br>

アプリに Room データベースを追加して、オフライン キャッシュとして使用する。新しいネットワークリザルトを受け取ったときに、ローカルデータベースを更新し、新規コンテンツをローカルデータベースから画面に表示します。この手法によってオフラインキャッシュが常に最新であることが確認できます。また、端末がオフラインの場合でもキャッシュされたデータをローカルで読み込むことができます

![image](https://user-images.githubusercontent.com/96398365/183078096-9f259ad8-5988-430b-a1de-b63c8eb45e8d.png)

